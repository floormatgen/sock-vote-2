{"abstract":[{"text":"Generates a result using the instant runoff method","type":"text"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"preferentialResult","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"using"},{"kind":"text","text":" "},{"kind":"internalParam","text":"votes"},{"kind":"text","text":": "},{"kind":"keyword","text":"some"},{"kind":"text","text":" "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sl","text":"Collection"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","identifier":"doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question","text":"Question","preciseIdentifier":"s:12VoteHandling8QuestionC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:12VoteHandling8QuestionC012PreferentialA0V","identifier":"doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question\/PreferentialVote","text":"PreferentialVote"},{"kind":"text","text":">, "},{"kind":"externalParam","text":"options"},{"kind":"text","text":": "},{"kind":"keyword","text":"borrowing"},{"kind":"text","text":" "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sh","text":"Set"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"text":">) ","kind":"text"},{"text":"throws","kind":"keyword"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:12VoteHandling8QuestionC","identifier":"doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question","text":"Question"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:12VoteHandling8QuestionC6ResultO","identifier":"doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question\/Result-swift.enum","text":"Result"}],"languages":["swift"],"platforms":["macOS"]}]},{"content":[{"anchor":"discussion","text":"Discussion","type":"heading","level":2},{"name":"Sources","content":[{"type":"paragraph","inlineContent":[{"text":"","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Implementation is hevily inspired by "},{"isActive":true,"identifier":"https:\/\/electowiki.org\/wiki\/Instant-runoff_voting","type":"reference"},{"text":".","type":"text"}]}],"type":"aside","style":"note"},{"content":[{"inlineContent":[{"type":"text","text":""},{"text":" ","type":"text"},{"type":"reference","identifier":"doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question\/Error\/invalidVote","isActive":true},{"type":"text","text":" when an invalid vote is detected."}],"type":"paragraph"}],"type":"aside","style":"note","name":"Throws"},{"text":"Handling Ties","type":"heading","anchor":"Handling-Ties","level":3},{"items":[{"content":[{"inlineContent":[{"text":"If multiple candidates have the same amount of first preference votes, ","type":"text"},{"inlineContent":[{"text":"but not the most","type":"text"}],"type":"strong"},{"text":", then they are ","type":"text"},{"inlineContent":[{"text":"all eliminated at the same time","type":"text"}],"type":"strong"},{"text":".","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"If ","type":"text"},{"type":"strong","inlineContent":[{"text":"all candidates","type":"text"}]},{"type":"text","text":" have the same amount of first preference votes, no one is eliminated and second preference votes are also considered."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"If there are still multiple candidates, the vote ends in a "},{"type":"strong","inlineContent":[{"text":"tie","type":"text"}]},{"type":"text","text":" between the remaining candidates."}],"type":"paragraph"}]}],"type":"orderedList"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/votehandling\/question\/preferentialresult(using:options:)"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"kind":"symbol","schemaVersion":{"minor":3,"major":0,"patch":0},"metadata":{"role":"symbol","title":"preferentialResult(using:options:)","extendedModule":"VoteHandling","fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"preferentialResult","kind":"identifier"},{"text":"(","kind":"text"},{"text":"using","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"some","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Collection","kind":"typeIdentifier","preciseIdentifier":"s:Sl"},{"text":"<","kind":"text"},{"text":"Question","kind":"typeIdentifier","preciseIdentifier":"s:12VoteHandling8QuestionC"},{"text":".","kind":"text"},{"preciseIdentifier":"s:12VoteHandling8QuestionC012PreferentialA0V","text":"PreferentialVote","kind":"typeIdentifier"},{"text":">, ","kind":"text"},{"text":"options","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"borrowing","kind":"keyword"},{"kind":"text","text":" "},{"preciseIdentifier":"s:Sh","text":"Set","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":">) ","kind":"text"},{"text":"throws","kind":"keyword"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:12VoteHandling8QuestionC","text":"Question"},{"text":".","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:12VoteHandling8QuestionC6ResultO","text":"Result"}],"symbolKind":"method","externalID":"s:12VoteHandling8QuestionC18preferentialResult5using7optionsAC0E0Ox_ShySSGtKSlRzAC012PreferentialA0V7ElementRtzlFZ","roleHeading":"Type Method","remoteSource":{"fileName":"Question+VoteCalculations.swift","url":"https:\/\/github.com\/floormatgen\/sock-vote-2\/blob\/main\/sock-vote-server\/Sources\/VoteHandling\/Question+VoteCalculations.swift#L55"},"modules":[{"name":"VoteHandling"}]},"hierarchy":{"paths":[["doc:\/\/VoteHandling\/documentation\/VoteHandling","doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question\/preferentialResult(using:options:)"},"references":{"https://electowiki.org/wiki/Instant-runoff_voting":{"identifier":"https:\/\/electowiki.org\/wiki\/Instant-runoff_voting","title":"electowiki.org","type":"link","url":"https:\/\/electowiki.org\/wiki\/Instant-runoff_voting","titleInlineContent":[{"text":"electowiki.org","type":"text"}]},"doc://VoteHandling/documentation/VoteHandling/Question/PreferentialVote":{"role":"symbol","url":"\/documentation\/votehandling\/question\/preferentialvote","type":"topic","title":"Question.PreferentialVote","identifier":"doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question\/PreferentialVote","kind":"symbol","abstract":[],"fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"PreferentialVote","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"PreferentialVote"}]},"doc://VoteHandling/documentation/VoteHandling":{"role":"collection","url":"\/documentation\/votehandling","identifier":"doc:\/\/VoteHandling\/documentation\/VoteHandling","type":"topic","abstract":[],"kind":"symbol","title":"VoteHandling"},"doc://VoteHandling/documentation/VoteHandling/Question":{"navigatorTitle":[{"kind":"identifier","text":"Question"}],"abstract":[{"text":"An active question","type":"text"}],"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Question"}],"title":"Question","kind":"symbol","url":"\/documentation\/votehandling\/question","role":"symbol","identifier":"doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question","type":"topic"},"doc://VoteHandling/documentation/VoteHandling/Question/Error/invalidVote":{"abstract":[{"text":"The vote is ill-formed","type":"text"}],"role":"symbol","type":"topic","kind":"symbol","title":"Question.Error.invalidVote","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"invalidVote"}],"identifier":"doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question\/Error\/invalidVote","url":"\/documentation\/votehandling\/question\/error\/invalidvote"},"doc://VoteHandling/documentation/VoteHandling/Question/Result-swift.enum":{"abstract":[],"role":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Result"}],"kind":"symbol","title":"Question.Result","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"Result"}],"identifier":"doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question\/Result-swift.enum","url":"\/documentation\/votehandling\/question\/result-swift.enum"},"doc://VoteHandling/documentation/VoteHandling/Question/preferentialResult(using:options:)":{"abstract":[{"text":"Generates a result using the instant runoff method","type":"text"}],"role":"symbol","type":"topic","kind":"symbol","title":"preferentialResult(using:options:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"preferentialResult"},{"kind":"text","text":"("},{"kind":"externalParam","text":"using"},{"kind":"text","text":": "},{"kind":"keyword","text":"some"},{"kind":"text","text":" "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sl","text":"Collection"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","preciseIdentifier":"s:12VoteHandling8QuestionC","text":"Question"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:12VoteHandling8QuestionC012PreferentialA0V","text":"PreferentialVote"},{"kind":"text","text":">, "},{"kind":"externalParam","text":"options"},{"kind":"text","text":": "},{"kind":"keyword","text":"borrowing"},{"kind":"text","text":" "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sh","text":"Set"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":">) "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:12VoteHandling8QuestionC","text":"Question"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:12VoteHandling8QuestionC6ResultO","text":"Result"}],"identifier":"doc:\/\/VoteHandling\/documentation\/VoteHandling\/Question\/preferentialResult(using:options:)","url":"\/documentation\/votehandling\/question\/preferentialresult(using:options:)"}}}